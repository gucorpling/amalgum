<?xml version="1.0" ?>
<text author="Ahmad Bani Younes, Daniele Mortari" dateCollected="2019-11-03" id="autogum_academic_doc212" shortTile="derivation-attitude" sourceURL="https://www.mdpi.com/1424-8220/19/21/4682/htm" speakerCount="0" speakerList="none" title="Derivation of All Attitude Error Governing Equations for Attitude Filtering and Control" type="academic">
<head>
<s>
4
.
</s>
<s>
Optimal
Tracking
Control
</s>
</head>
<p>
<s>
A
general
scalar
nonnegative
attitude
penalty
function
is
utilized
to
formulate
an
optimal
feedback
control
for
the
spacecraft
tracking
problem
.
</s>
<s>
This
new
variable
yields
identical
performance
index
values
,
regardless
of
the
attitude
variables
selected
.
</s>
<s>
The
general
final
finite-time
optimal
control
formulating
is
given
by
minimizing
the
following
performance
index
:
(
79
)
which
is
subject
to
,
where
is
the
angular
velocity
error
,
is
an
arbitrary
attitude
representation
of
the
attitude
error
,
and
the
penalty
functions
are
(
using
and
)
:
(
80
)
</s>
</p>
<p>
<s>
The
weights
and
are
scalars
,
and
the
weights
,
,
and
<hi rend="italic">
R
</hi>
are
matrices
.
</s>
<s>
The
is
the
spacecraft
error
dynamics
.
</s>
<s>
The
scalar
function
is
a
general
nonnegative
attitude
penalty
function
.
</s>
<s>
The
function
is
chosen
to
produce
the
same
cost
for
a
given
physical
orientation
:
(
81
)
when
using
exact
nonlinear
attitude
error
kinematics
,
the
orientation
will
work
for
large
angles
;
.
</s>
<s>
Therefore
,
the
function
is
bounded
for
all
possible
rotations
.
</s>
<s>
Thus
,
the
attitude
cost
reaches
its
highest
value
at
the
maximum
rotation
angle
.
</s>
<s>
Defining
the
attitude
cost
function
in
terms
of
the
DCM
makes
it
universally
valid
for
arbitrary
choice
of
attitude
coordinates
.
</s>
<s>
It
can
be
simply
parameterized
by
any
other
attitude
coordinate
.
</s>
<s>
The
universal
quadratic
penalty
function
for
arbitrary
attitude
error
representations
is
given
in
Table
3
.
</s>
<s>
This
penalty
function
returns
the
same
cost
for
a
given
physical
attitude
,
thereby
eliminating
the
dependency
of
the
optimal
control
solution
on
the
choice
of
the
attitude
coordinate
.
</s>
</p>
<head>
<s>
4.1
.
</s>
<s>
Reference
Angular
Velocity
Defined
in
the
Body
Attitude
Frame
</s>
</head>
<p>
<s>
The
reference
and
current
angular
velocities
are
expressed
in
the
same
coordinate
frames
;
i.
e.
,
.
</s>
<s>
It
can
be
shown
that
the
general
expression
of
the
attitude
error
kinematics
of
this
set
can
be
given
as
follows
:
(
82
)
with
initial
state
.
</s>
<s>
The
Hamiltonian
<hi rend="italic">
H
</hi>
for
this
system
of
equations
is
defined
,
for
the
given
optimal
control
problem
in
Equations
(
79
)
and
(
80
)
,
as
follows
:
(
83
)
where
and
are
the
co-state
variables
for
the
angular
velocity
error
and
the
attitude
error
,
respectively
.
</s>
<s>
Invoking
the
standard
necessary
condition
for
optimality
,
the
co-state
differential
equations
are
given
by
the
following
:
(
84
)
</s>
</p>
<p>
<s>
The
two
co-state
differential
equations
are
integrated
backward
in
time
with
given
terminal
values
and
.
</s>
<s>
The
optimal
control
is
given
by
the
first-order
necessary
conditions
for
an
extremum
,
,
leading
to
.
</s>
</p>
<head>
<s>
4.2
.
</s>
<s>
Reference
Angular
Velocity
Defined
in
the
Reference
Attitude
Frame
</s>
</head>
<p>
<s>
The
reference
and
current
angular
velocities
are
expressed
in
different
coordinate
frames
,
i.
e.
,
.
</s>
<s>
Therefore
,
this
definition
explicitly
computes
the
angular
velocity
error
in
the
current
body
frame
.
</s>
<s>
As
an
important
result
of
this
set
,
the
expressions
of
the
attitude
error
kinematics
follow
the
attitude
kinematics
equation
for
any
given
attitude
representation
choice
.
</s>
<s>
Therefore
,
the
general
expression
of
the
attitude
error
kinematics
of
this
set
can
be
given
as
follows
:
(
85
)
with
initial
state
.
</s>
<s>
The
Hamiltonian
<hi rend="italic">
H
</hi>
for
this
system
of
equations
is
as
follows
:
(
86
)
</s>
</p>
<p>
<s>
Invoking
the
standard
necessary
condition
for
optimality
,
the
co-state
differential
equations
are
given
by
the
following
:
(
87
)
</s>
</p>
<p>
<s>
The
optimal
control
is
given
by
the
first-order
necessary
conditions
for
an
extremum
,
,
leading
to
.
</s>
<s>
Note
the
last
term
in
the
(
)
expression
involves
calculating
the
partial
derivative
of
the
angular
velocity
error
kinematic
,
,
which
obviously
leads
to
difficult
math
.
</s>
<s>
This
step
is
also
required
when
performing
coordinate
mapping
between
the
DCM
into
other
attitude
parameters
.
</s>
</p>
<head>
<s>
4.3
.
</s>
<s>
Numerical
Simulation
</s>
</head>
<p>
<s>
This
section
presents
simulation
results
of
a
fixed
final-time
and
final-state
open-loop
optimal
control
solution
for
the
spacecraft
tracking
problem
.
</s>
<s>
Modified
Rodrigues
parameters
are
used
for
the
attitude
motion
.
</s>
<s>
The
initial
and
final
state
variable
conditions
for
this
example
are
given
in
Table
4
.
</s>
<s>
The
spacecraft
moment
of
inertia
tensor
is
given
in
Table
5
.
</s>
<s>
For
simplicity
,
the
weighting
matrices
are
,
,
,
and
.
</s>
<s>
However
,
one
can
sweep
those
penalties
to
obtain
different
solutions
sets
.
</s>
<s>
This
example
stands
to
solve
the
open-loop
optimal
control
problem
for
the
spacecraft
tracking
problem
using
arbitrary
attitude
representation
.
</s>
<s>
We
consider
the
universal
performance
index
given
in
Table
3
.
</s>
<s>
The
state
and
co-state
differential
equations
are
solved
in
a
Boundary
Value
Problem
(
BVP
)
framework
using
a
shooting
method
(
MATLAB
<tt>
fsolve
</tt>
)
.
</s>
<s>
The
optimal
open-loop
solution
is
shown
in
</s>
<figure>
<s>
Figure
5
</s>
</figure>
<s>
.
</s>
<s>
The
time
history
of
the
optimal
trajectory
and
control
is
shown
in
</s>
<figure>
<s>
Figure
5
</s>
</figure>
<s>
a
for
MRPs
representation
.
</s>
<s>
The
trajectory
is
controlled
to
drive
the
spacecraft
for
a
given
initial
state
error
,
and
,
to
rest
at
zero
attitude
error
after
25
seconds
.
</s>
<s>
It
is
noted
that
the
optimal
open-loop
solution
obtained
for
various
attitude
representation
produces
the
same
angular
displacement
and
total
cost
,
as
given
in
</s>
<figure>
<s>
Figure
5
</s>
</figure>
<s>
b.
</s>
</p>
</text>
